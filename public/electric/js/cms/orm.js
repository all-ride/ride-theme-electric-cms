function initializeNodeEntryForm(a,b){l=b,$("#form-model").change(function(){updateEntryOptions(a,$("#form-model"),$("#form-entry"),b)})}function updateEntryOptions(a,b,c,d){var e=b.val();c.empty(),c.append('<option value="">---</option>'),e&&$.ajax({url:a.replace("%25model%25",e),type:"GET",dataType:"json",success:function(a){for(var b in a)c.append('<option value="'+b+'">'+a[b]+"</option>")},error:function(){alert("Darn, can't retrieve the entries!")},beforeSend:setEntryOptionLocaleHeader}),c.val("")}function setEntryOptionLocaleHeader(a){l&&a.setRequestHeader("Accept-Language",l)}function joppaContentInitializeDetailProperties(a){$("#form-content-properties-form-content-properties-model").change(function(){joppaContentUpdateIdFields(a)})}function joppaContentInitializeEntryProperties(a){$("#form-content-properties-form-content-properties-model").change(function(){updateEntryOptions(a,$("#form-content-properties-form-content-properties-model"),$("#form-content-properties-form-content-properties-entry"))})}function joppaContentInitializeOverviewProperties(a,b,c){$("#form-content-properties-form-content-properties-model").change(function(){joppaContentUpdateContentMappers(c),joppaContentUpdateOrderFields(a),joppaContentUpdateFilterFields(b),$("#form-content-properties-form-content-properties-condition-expression").val(""),$("#form-content-properties-form-content-properties-order-expression").val(""),$(".row-filters .collection-control").remove()}),$(".row-filters .prototype-add").click(function(){filterFields&&setTimeout(function(){$(".row-filters .row-field select").each(function(){var a=$(this);a.empty();for(var b in filterFields)filterFields.hasOwnProperty(b)&&a.append('<option value="'+b+'">'+filterFields[b]+"</option>");a.val("")})},10)}),$("#form-content-properties-order-add").click(function(){var a=$("#form-content-properties-form-content-properties-order-field").val();if(!a)return!1;a="{"+a+"} "+$("#form-content-properties-form-content-properties-order-direction").val();var b=$("#form-content-properties-form-content-properties-order").val();return b&&(b+=", "),b+=a,$("#form-content-properties-form-content-properties-order").val(b),$("#form-content-properties-form-content-properties-order-field").val(""),!1}),$("#form-content-properties-form-content-properties-pagination-enable").change(function(){var a=$("#form-content-properties-form-content-properties-pagination-enable").is(":checked"),b=a?":hidden":":visible";$("#form-content-properties #tabQuery .pagination-attribute"+b).slideToggle("fast"),$("#form-content-properties #tabView .pagination-attribute").each(function(){var b=$(this).css("display");a&&"none"==b?$(this).show():a&&"none"==b||$(this).hide()}),$("#form-content-properties-form-content-properties-pagination-show").is(":checked")&&a?$("#form-content-properties .pagination-ajax").first().show():$("#form-content-properties .pagination-ajax").first().hide(),$("#form-content-properties-form-content-properties-more-show").is(":checked")?$("#form-content-properties .more-attribute").each(function(){a?$(this).show():$(this).hide()}):$("#form-content-properties .more-attribute").hide()}),$("#form-content-properties-form-content-properties-pagination-show").click(function(){var a=$("#form-content-properties-form-content-properties-pagination-show").is(":checked")?":hidden":":visible";$("#form-content-properties .pagination-ajax"+a).first().slideToggle("fast")}),$("#form-content-properties-form-content-properties-more-show").change(function(){var a=$("#form-content-properties-form-content-properties-more-show").is(":checked")?":hidden":":visible";$("#form-content-properties #tabView .more-attribute"+a).slideToggle("fast")}),$("#form-content-properties-form-content-properties-parameters-type-none").click(function(){$("#form-content-properties .parameters-enable:visible").slideToggle("fast")}),$("#form-content-properties-form-content-properties-parameters-type-numeric").click(function(){$("#form-content-properties .parameters-named:visible").slideToggle("fast"),$("#form-content-properties .parameters-numeric:hidden").slideToggle("fast"),$("#form-content-properties .row-parameters-none:hidden").slideToggle("fast")}),$("#form-content-properties-form-content-properties-parameters-type-named").click(function(){$("#form-content-properties .parameters-numeric:visible").slideToggle("fast"),$("#form-content-properties .parameters-named:hidden").slideToggle("fast"),$("#form-content-properties .row-parameters-none:hidden").slideToggle("fast")}),$("#form-content-properties-form-content-properties-pagination-enable").is(":checked")||$("#form-content-properties .pagination-attribute").hide(),$("#form-content-properties-form-content-properties-more-show").is(":checked")||$("#form-content-properties .more-attribute").hide(),$("#form-content-properties-form-content-properties-pagination-show").is(":checked")||$("#form-content-properties .pagination-ajax").first().hide(),$("#form-content-properties-form-content-properties-parameters-type-none").is(":checked")?$("#form-content-properties .parameters-enable").hide():$("#form-content-properties-form-content-properties-parameters-type-named").is(":checked")?$("#form-content-properties .parameters-enable").not(".parameters-named").not(".row-parameters-none").hide():$("#form-content-properties-form-content-properties-parameters-type-numeric").is(":checked")&&$("#form-content-properties .parameters-enable").not(".parameters-numeric").not(".row-parameters-none").hide()}function joppaContentUpdateOrderFields(a){var b=$("#form-content-properties-form-content-properties-model").val();$.getJSON(a.replace("%25model%25",b).replace("%25recursiveDepth%25",1),function(a){var b=$("#form-content-properties-form-content-properties-order-field");b.empty(),b.append('<option value="">---</option>');for(var c in a.fields)a.fields.hasOwnProperty(c)&&b.append('<option value="'+c+'">'+a.fields[c]+"</option>");b.val(""),$("#form-content-properties .order-direction:visible").first().slideToggle("fast")})}function joppaContentUpdateFilterFields(a){var b=$("#form-content-properties-form-content-properties-model").val();$.getJSON(a.replace("%25model%25",b).replace("%25recursiveDepth%25",1),function(a){filterFields=a.fields})}function joppaContentUpdateIdFields(a){var b=$("#form-content-properties-form-content-properties-model").val();$.getJSON(a.replace("%25model%25",b),function(a){var b=$("#form-content-properties-form-content-properties-field-id");b.empty();for(var c in a.fields)a.fields.hasOwnProperty(c)&&b.append('<option value="'+c+'">'+a.fields[c]+"</option>");$("option",b).first().prop("selected",!0)})}function joppaContentUpdateContentMappers(a){var b=$("#form-content-properties-form-content-properties-model").val();$.getJSON(a.replace("%25model%25",b),function(a){var c=$("#form-content-properties-form-content-properties-content-mapper");c.empty(),c.append('<option value="">---</option>');for(var d in a[b])c.append('<option value="'+a[b][d]+'">'+a[b][d]+"</option>");c.val("")})}var filterFields,l;